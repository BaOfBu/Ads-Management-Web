{{#section 'css'}}
    <link rel="stylesheet" href="/static/css/departmentOfficer/district.css">
{{/section}}

<div class="custom-container">
    <div class="card">
        <div class="custom-card">
            <h5 class="card-header d-flex justify-content-center">Danh sách báo cáo của phường {{wardName}} quận {{districtName}}</h5> 
        </div>
    </div>
    <div>
        <div class="card mt-5">
        <h5 class="card-header d-flex justify-content-between align-items-center p-3">
            Xem danh sách báo cáo
        </h5>
        {{#if isEmpty}}
            <div class="card-body">Không có dữ liệu</div>
        {{else}}
        <table class="table table-hover">
            <thead>
                <tr>
                    <th scope="col" class="col-1">
                        <span class="d-flex justify-content-center">#</span>
                    </th>
                    <th scope="col" class="col-2">
                        <span class="d-flex justify-content-center">Thông tin người gửi</span>
                    </th>
                    <th scope="col" class="col-2">
                        <span class="d-flex justify-content-center">Thời gian gửi</span>
                    </th>
                    <th scope="col" class="col-2">
                        <span class="d-flex justify-content-center">Địa chỉ</span>
                    </th>
                    <th scope="col" class="col-2">
                        <span class="d-flex justify-content-center">Loại hình báo cáo</span>
                    </th>
                    <th scope="col" class="col-1">
                        <span class="d-flex justify-content-center">Tình trạng</span>
                    </th>
                    <th scope="col" class="col-2">
                        <span class="d-flex justify-content-center">Xem chi tiết</span>
                    </th>
                </tr>
            </thead>
            <tbody>
                {{#each arrayReport}}
                <tr>
                    <th scope="row">
                        <span class="d-flex justify-content-center">
                            {{stt}}
                        </span>
                    </th>
                    <td>
                        <span class="d-flex justify-content-center">
                            {{name}} </br> {{email}} </br> {{phone}}
                        </span>
                    </td>
                    <td>
                        <span class="d-flex justify-content-center">
                            {{sendDate}}
                        </span>
                    </td>
                    <td>
                        <span class="d-flex justify-content-center">
                            {{location}}
                        </span>
                    </td>
                    <td>
                        <span class="d-flex justify-content-center">
                            {{report_type_name}}
                        </span>
                    </td>
                    <td>
                        <span class="d-flex justify-content-center"><h4>
                            {{#if (equal status "Đã xử lý xong")}}
                                <span class="badge badge-success">{{status}}</span>
                            {{else}}
                            {{#if (equal status "Đang xử lý")}}
                                <span class="badge badge-warning">{{status}}</span>
                            {{else}}
                                <span class="badge badge-danger">{{status}}</span>
                            {{/if}}
                            {{/if}}
                        </h4></span>
                    </td>
                    <td>
                        <div class="d-flex justify-content-center">
                            <a class="d-flex justify-content-center align-items-center view-detail mt-1" href="report/viewDetails?citizenReportId={{citizenReportId}}" role="button">
                                <i class="fa-solid fa-circle-info"></i>
                                <span class="ml-1">Chi tiết</span>
                            </a>
                        </div>
                    </td>
                </tr>
                {{/each}}
            </tbody>
        </table>
        {{/if}}
    </div>
    <div class="mt-3 d-flex justify-content-center">
        <div>
            <ul class="pagination">
            <li class="page-item">
                <a class="page-link" href="?page={{previousValue}}">Previous</a>
            </li>
            {{#each this.pageNumbers}}
            {{#if isActive}}
            <li class="page-item active" aria-current="page">
                <a class="page-link" href="#">{{value}}</a>
            </li>
            {{else}}
            <li class="page-item">
                <a class="page-link" href="?page={{value}}">{{value}}</a>
            </li>
            {{/if}}
            {{/each}}
            <li class="page-item">
                <a class="page-link" href="?page={{nextValue}}">Next</a>
            </li>
            </ul>
        </div>
    </div>
</div>