{{#section 'js'}}
    <script src="/static/js/wardOfficer/report_detail.js"></script>
{{/section}}
{{#section 'css'}}
    <link rel="stylesheet" href="/static/css/wardOfficer/report_detail.css">
{{/section}}
<div class="custom-container">
    <form id="formReport" action="" method="post">
        <div class="card">
            <h3 class="card-header">
            Xem chi tiết báo cáo
            </h3>
            <div class="card-body">
                <input type="hidden" id="txtReportId" name="txtReportId" class="form-control" value="{{report.citizenReportId}}">
                <div class="form-group">
                    <label for="txtAddress">Địa chỉ</label>
                    <input type="text" id="txtAddress" class="form-control" readonly value="{{report.location}}">
                </div>
                <div class="form-group">
                    <label for="txtSize">Tên người gửi</label>
                    <input type="text" class="form-control" id="txtSize" readonly value="{{report.name}}">
                </div>
                <div class="form-group">
                    <label for="txtSize">Email người gửi</label>
                    <input type="text" class="form-control" id="txtSize" readonly value="{{report.email}}">
                </div>
                <div class="form-group">
                    <label for="txtSize">Nội dung báo cáo</label>
                    <textarea type="text" class="form-control" id="txtSize" readonly rows="3">{{report.content}} </textarea> 
                </div>
                <div class="form-group">
                    <label for="txtSize">Ngày gửi </label>
                    <input type="text" class="form-control" id="txtSize" readonly value="{{report.sendDate}}">
                </div>
                    <label for="image">Hình ảnh</label>
                    <div id="carouselExampleControls" class="carousel slide" data-bs-interval="false">
                        <div class="carousel-inner">
                            {{#if report.imgId1}}
                            <div class="carousel-item active">
                                <img class="d-block w-50 mx-auto" style="object-fit: cover;" src={{report.imgLink1}} alt="First img">
                            </div>
                            {{/if}}
                            {{#if report.imgId2}}
                            <div class="carousel-item">
                                <img class="d-block w-50 mx-auto"style="object-fit: cover;" src={{report.imgLink2}} alt="Second img">
                            </div>
                            {{/if}}
                        </div>
                        <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" style="filter: invert(100%)"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" style="filter: invert(100%);"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                {{#if (equal report.status "Chưa xử lý")}}
                <h2>Cập nhật tình trạng xử lý</h2>
                <input type="hidden" readonly id="flag" value="true">
                <div class="form-group">
                    <label for="txtStatus">Tình trạng xử lý</label>
                    <select class="custom-select form-control" name="status" id="txtStatus" required>
                        <option value="Chưa xử lý" selected>Chưa xử lý</option>
                        <option value="Đang xử lý">Đang xử lý</option>
                        <option value="Đã xử lý xong">Đã xử lý xong</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="txthandlingProcedureInfor">Cách thức xử lý</label>
                    <textarea class="form-control" id="txthandlingProcedureInfor" name="handlingProcedureInfor" rows="3" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Cập nhật</button>
                {{/if}}
                {{#if (equal report.status "Đang xử lý")}}
                <h2>Cập nhật tình trạng xử lý</h2>
                <input type="hidden" readonly id="flag" value="true">
                <div class="form-group">
                    <label for="txtStatus">Tình trạng xử lý</label>
                    <select class="custom-select form-control" name="status" id="txtStatus" required>
                        <option value="Chưa xử lý" disabled style="color:grey">Chưa xử lý</option>
                        <option value="Đang xử lý" selected>Đang xử lý</option>
                        <option value="Đã xử lý xong">Đã xử lý xong</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="txthandlingProcedureInfor">Cách thức xử lý</label>
                    <textarea class="form-control" id="txthandlingProcedureInfor" name="handlingProcedureInfor" rows="3" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Cập nhật</button>
                {{/if}}
                {{#if (equal report.status "Đã xử lý xong")}}
                    <input type="hidden" readonly id="flag" value="false">
                    <div class="form-group">
                        <label for="txtStatus">Tình trạng xử lý</label>
                        <input class="form-control" value="Đã xử lý" id="txtStatus" readonly></select>
                    </div>
                    <div class="form-group">
                        <label for="txthandlingProcedureInfor">Cách thức xử lý</label>
                        <textarea class="form-control" id="txthandlingProcedureInfor" name="handlingProcedureInfor" rows="3" readonly>{{report.handlingProcedureInfor}}</textarea>
                    </div>
                {{/if}}
            </div>
            <div class="card-footer text-muted">
                <a class="btn btn-outline-success" href="/ward-officer/report/" role="button">
                    <i class="bi bi-skip-backward-fill"></i>
                    Danh sách báo cáo
                </a>
            </div>
        </div>
    </form>
</div>